<!DOCTYPE html>
<html>
<head>
    <title>Pendaftaran Online PontrenMU Al-Furqon T.P 2025/2026</title>
    <meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport>
<link href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css rel=stylesheet>
<link href=https://raw.githubusercontent.com/enesesjohan/santri/refs/heads/main/favicon.ico rel=icon type=image/x-icon>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js>
</script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js>
</script>
<link rel="stylesheet" href="design.css"> 
</head>
<body>

    <nav class="navbar navbar-inverse">
        <div class=container-fluid>
            <div class=navbar-header><button class=navbar-toggle type=button data-target=#myNavbar data-toggle=collapse><span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button> <a href=# class=navbar-brand><img alt=""class=navbar-brand-text height=30 src=https://raw.githubusercontent.com/enesesjohan/santri/refs/heads/main/favicon.ico width=30> PSB PontrenMU Al-Furqon</a>
                <div
                    class=daftar-container><button class="btn btn-primary btn-sm daftar-btn" type=button onclick="window.location.href='https://santri.alfurqon.or.id';">Daftar Sekarang</button></div>
        </div>
        <div class="collapse navbar-collapse" id=myNavbar>
            <ul class="nav navbar-nav">
                <li class=active><a href=#>Beranda</a>
                    <li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Lokasi Asrama<span class=caret></span></a>
                        <ul class=dropdown-menu>
                            <li><a href=#>Pondok/Asrama Putra</a>
                                <li><a href=#>Pondok/Asrama Putri</a></ul>
                        <li><a href=# id=syaratLink>Syarat Pendaftaran</a>
                            <li><a href=# id=biayaMasukLink>Biaya Awal Masuk</a></ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href=# id=ContactLink><span class="glyphicon glyphicon-earphone"></span> Hubungi Kami</a>
                    <li><a href=# id=downloadLink><span class="glyphicon glyphicon-download-alt"></span> Download Brosur</a></ul>
        </div>
        </div>
      </nav>
    <!-- Progress Bar -->
    <div class="progress-container" id="progress-container">
        <div class="progress">
            <div class="progress-bar progress-bar-striped active" id="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
                <span id="progress-text">Loading...</span>
            </div>
        </div>
    </div>


      <div class=iframe-container id=iframe-container><iframe id=dynamic-iframe src="" title="Penerimaan Santri Baru"></iframe></div>
      <div class=modal id=modal>
        <div class=modal-content><span class=close>×</span>
            <h2>Himbauan</h2>
            <p>Silakan buka website ini menggunakan perangkat mobile untuk melihat informasi lebih lengkap.</p><a href=https://psb.alfurqon.or.id/brosur.jpg class=btn-download rel=noopener target=_blank>Download Brosur</a></div>
      </div>
      <div class=modal-download id=downloadModal>
        <div class=modal-download-content>
            <h4>Download Brosur PSB</h4>
            <p>Mohon tunggu sejenak, proses unduhan akan dimulai beberapa saat lagi.</div>
      </div>
      <div class=modal id=syaratModal>
        <div class=modal-content><span class=close-x-syarat>×</span>
            <h4>Syarat Pendaftaran</h4>
            <p>Mohon siapkan dokumen persyaratan registrasi di bawah ini. Berkas-berkas yang memang belum ada seperti Ijazah, atau SKL dan Raport nanti bisa dibawa menyusul.
                <ul>
                    <li>Mendaftarkan diri ke kantor PSB PontrenMu Al-Furqon Putra/Putri dan membayar biaya infaq daftar senilai Rp150.000.
                        <li>Mengisi Formulir Pendaftaran oleh Calon wali santri dan calon santri baru.
                            <li>Menyertakan foto ijazah + fotokopi SKL sebanyak 3 lembar dan telah dilegalisir.
                                <li>Fotokopi nilai raport terakhir 1 lembar dan pas foto 3x4 sebanyak 4 lembar dengan background biru.
                                    <li>Fotokopi KTP Orang Tua dan Kartu Keluarga, masing-masing diperbanyak 3 lembar.
                                        <li>Semua persyaratan dari nomor 3 s.d 5 dimasukkan ke dalam map SNEL dengan warna sebagai berikut dan map tersebut diserahkan kepada panitia:</li>
                                        <ul>
                                            <li>Map Merah untuk Putra.
                                                <li>Map Biru untuk Putri.</ul>
                </ul><button class=close-btn id=tutupButton>Tutup</button></div>
      </div>
      <div class=clContactModal id=idContactModal>
        <div class=cntContactModal><span class=close-x-Contact>×</span>
            <div class=modal-header>
                <h2>Informasi Kontak</h2>
                <p>Untuk Pertanyaan terkait info PSB, Sistem Pendidikan, Peraturan Asrama, maupun hal lainnya terkait pesantren, Bapak/Ibu bisa menghubungi nomor WhatsApp dibawah ini.</div>
            <div class=modal-body>
                <div>
                    <h3>Icon Putra</h3>
                    <p>Campus Putra
                        <p>(Ust. Maftukhan) : 0882-3269-7837
                            <p>Campus Putra
                                <p>(Ust. Rendi Satya) : 0822-8294-5212</div>
                <div>
                    <h3>Icon Putri</h3>
                    <p>Campus Putri
                        <p>(Ustzh. Elsa) : 0816-3216-5812
                            <p>Campus Putri
                                <p>(Ustzh. Mufidah) : 0812-7836-4174</div>
            </div>
            <div class=modal-footer><button id=tutupButtonContact>Close</button></div>
        </div>
      </div>
      <div class=modalBiaya-css id=biayaModal>
        <div class=modal-contentBiaya-css><span class=close-x-biaya>×</span>
            <h2>Biaya Awal Masuk</h2>
            <div class=loading-spinner>
                <div class=spinner></div>
                <p class=loading-text>Sedang Memuat data... mohon tunggu sejenak.</div>
            <div class=table-container id=biayaContent></div>
        </div>
      </div>
 <script src="fx.js">
 </script>
 <script>
    const htmlSourceFile = "update.html"; 
        const progressBar = document.getElementById("progress-bar");
        const progressText = document.getElementById("progress-text");
        const progressContainer = document.getElementById("progress-container");

        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("dynamic-iframe").src = htmlSourceFile;
            progressContainer.style.display = "block"; // Show the progress bar

            let pTimeout; // Variable to handle timeout
            const checkInterval = setInterval(() => {
                const iframe = document.getElementById("dynamic-iframe");
                const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;

                // Check if the iframe has loaded its content
                if (iframeDocument.readyState === 'complete') {
                    clearInterval(checkInterval); // Stop checking if loaded

                    // Check for specific text in the iframe
                    checkText(iframeDocument);
                }
            }, 500); // Check every 500ms

            // Set a timeout for slow connections
            pTimeout = setTimeout(() => {
                clearInterval(checkInterval); // Stop checking
                progressText.textContent = "Jaringan Internet Lambat, mohon refresh ulang";
            }, 5000); // 5 seconds timeout
        });

        function checkText(iframeDocument) {
            let progress = 0;
            const textPoints = [
                { text: "TP. 2025/2026", message: "Memuat Muqoddimah...", percent: 10 },
                { text: "a. Muqoddimah", message: "Memuat Target Lulusan...", percent: 20 },
                { text: "b. Target Lulusan", message: "Memuat Daftar Eskul...", percent: 30 },
                { text: "Extracurricular", message: "Memuat Tenaga Pendidik...", percent: 40 },
                { text: "c. Tenaga Pendidik dan Kependidikan", message: "Memuat Informasi Pendaftaran...", percent: 45 },
                { text: "d. Informasi Pendaftaran", message: "Memuat Materi Test Tulis...", percent: 50 },
                { text: "e. Materi Test Tulis", message: "Memuat Materi Test Wawancara...", percent: 60 },
                { text: "f. Materi Test Wawancara", message: "Memuat Syarat Pendaftaran...", percent: 70 },
                { text: "g. Syarat Pendaftaran", message: "Memuat alur pendaftaran...", percent: 80 },
                { text: "h. Alur Pendaftaran Offline", message: "Memuat biaya awal masuk...", percent: 90 },
                { text: "l. Aktivitas sehari-hari para", message: "Memuat hal-hal yang harus dipersiapkan...", percent: 100 }
            ];

            textPoints.forEach(point => {
                if (iframeDocument.body.innerText.includes(point.text)) {
                    progress = point.percent;
                    progressText.textContent = point.message;
                    progressBar.style.width = progress + "%";
                }
            });

            // Clear timeout once the content is loaded successfully
            clearTimeout(pTimeout);
        }
    </script>
</body>
</html>
